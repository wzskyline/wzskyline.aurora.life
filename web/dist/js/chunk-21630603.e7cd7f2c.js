(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21630603"],{"2f21":function(t,e,o){"use strict";var i=o("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,o){"use strict";var i=o("5ca1"),s=o("d8e8"),n=o("4bf8"),r=o("79e5"),a=[].sort,l=[1,2,3];i(i.P+i.F*(r((function(){l.sort(void 0)}))||!r((function(){l.sort(null)}))||!o("2f21")(a)),"Array",{sort:function(t){return void 0===t?a.call(n(this)):a.call(n(this),s(t))}})},6544:function(t,e,o){"use strict";o("72ee")},"72ee":function(t,e,o){},"7f7f":function(t,e,o){var i=o("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,r="name";r in s||o("9e1e")&&i(s,r,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},e8a0:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"detail"},[o("mu-appbar",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[o("mu-button",{attrs:{slot:"left",icon:""},on:{click:t.iconBack},slot:"left"},[o("mu-icon",{attrs:{value:"arrow_back"}})],1),t._v(" "+t._s(t.title)+"\n      "),o("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.iconAdd},slot:"right"},[o("mu-icon",{attrs:{value:"add",size:"30"}})],1)],1),o("mu-drawer",{attrs:{open:t.open,docked:t.docked,right:"right"===t.position},on:{"update:open":function(e){t.open=e}}},[o("mu-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:t.row}},[o("p",{style:{display:"ta"==t.table?"none":""}},[o("mu-form-item",{attrs:{label:"日期"}},[o("mu-date-input",{model:{value:t.row.date,callback:function(e){t.$set(t.row,"date",e)},expression:"row.date"}})],1)],1),o("p",{style:{display:"ta"==t.table?"":"none"}},[o("mu-form-item",{attrs:{label:"商品编号"}},[o("mu-text-field",{model:{value:t.row.number,callback:function(e){t.$set(t.row,"number",e)},expression:"row.number"}})],1),o("mu-form-item",{attrs:{label:"商品名称"}},[o("mu-text-field",{model:{value:t.row.name,callback:function(e){t.$set(t.row,"name",e)},expression:"row.name"}})],1),o("mu-form-item",{attrs:{label:"型号"}},[o("mu-text-field",{model:{value:t.row.mark,callback:function(e){t.$set(t.row,"mark",e)},expression:"row.mark"}})],1),o("mu-form-item",{attrs:{label:"库存单位"}},[o("mu-text-field",{model:{value:t.row.unit,callback:function(e){t.$set(t.row,"unit",e)},expression:"row.unit"}})],1),o("mu-form-item",{attrs:{label:"仓位"}},[o("mu-text-field",{model:{value:t.row.store,callback:function(e){t.$set(t.row,"store",e)},expression:"row.store"}})],1),o("mu-form-item",{attrs:{label:"存放位置"}},[o("mu-text-field",{model:{value:t.row.position,callback:function(e){t.$set(t.row,"position",e)},expression:"row.position"}})],1)],1),o("p",{style:{display:"tb"==t.table?"":"none"}},[o("mu-form-item",{attrs:{label:"名称"}},[o("mu-text-field",{model:{value:t.row.name,callback:function(e){t.$set(t.row,"name",e)},expression:"row.name"}})],1),o("mu-form-item",{attrs:{label:"规格"}},[o("mu-text-field",{model:{value:t.row.guige,callback:function(e){t.$set(t.row,"guige",e)},expression:"row.guige"}})],1),o("mu-form-item",{attrs:{label:"数量"}},[o("mu-text-field",{attrs:{type:"number"},model:{value:t.row.number,callback:function(e){t.$set(t.row,"number",e)},expression:"row.number"}})],1),o("mu-form-item",{attrs:{label:"单位"}},[o("mu-text-field",{model:{value:t.row.unit,callback:function(e){t.$set(t.row,"unit",e)},expression:"row.unit"}})],1),o("mu-form-item",{attrs:{label:"领用人"}},[o("mu-text-field",{model:{value:t.row.person,callback:function(e){t.$set(t.row,"person",e)},expression:"row.person"}})],1)],1),o("p",{style:{display:"tc"==t.table?"":"none"}},[o("mu-form-item",{attrs:{label:"名称"}},[o("mu-text-field",{model:{value:t.row.name,callback:function(e){t.$set(t.row,"name",e)},expression:"row.name"}})],1),o("mu-form-item",{attrs:{label:"规格"}},[o("mu-text-field",{model:{value:t.row.guige,callback:function(e){t.$set(t.row,"guige",e)},expression:"row.guige"}})],1),o("mu-form-item",{attrs:{label:"型号"}},[o("mu-text-field",{model:{value:t.row.type,callback:function(e){t.$set(t.row,"type",e)},expression:"row.type"}})],1),o("mu-form-item",{attrs:{label:"需求量"}},[o("mu-text-field",{attrs:{type:"number"},model:{value:t.row.need,callback:function(e){t.$set(t.row,"need",e)},expression:"row.need"}})],1),o("mu-form-item",{attrs:{label:"已备量"}},[o("mu-text-field",{attrs:{type:"number"},model:{value:t.row.finish,callback:function(e){t.$set(t.row,"finish",e)},expression:"row.finish"}})],1),o("mu-form-item",{attrs:{label:"单位"}},[o("mu-text-field",{model:{value:t.row.unit,callback:function(e){t.$set(t.row,"unit",e)},expression:"row.unit"}})],1),o("mu-form-item",{attrs:{label:"用途"}},[o("mu-text-field",{model:{value:t.row.usefor,callback:function(e){t.$set(t.row,"usefor",e)},expression:"row.usefor"}})],1)],1),o("p",{style:{display:"td"==t.table?"":"none"}},[o("mu-form-item",{attrs:{label:"规格"}},[o("mu-text-field",{model:{value:t.row.guige,callback:function(e){t.$set(t.row,"guige",e)},expression:"row.guige"}})],1),o("mu-form-item",{attrs:{label:"名称"}},[o("mu-text-field",{model:{value:t.row.name,callback:function(e){t.$set(t.row,"name",e)},expression:"row.name"}})],1),o("mu-form-item",{attrs:{label:"需求量"}},[o("mu-text-field",{attrs:{type:"number"},model:{value:t.row.need,callback:function(e){t.$set(t.row,"need",e)},expression:"row.need"}})],1),o("mu-form-item",{attrs:{label:"完成量"}},[o("mu-text-field",{attrs:{type:"number"},model:{value:t.row.finish,callback:function(e){t.$set(t.row,"finish",e)},expression:"row.finish"}})],1),o("mu-form-item",{attrs:{label:"单位"}},[o("mu-text-field",{model:{value:t.row.unit,callback:function(e){t.$set(t.row,"unit",e)},expression:"row.unit"}})],1),o("mu-form-item",{attrs:{label:"地点"}},[o("mu-text-field",{model:{value:t.row.position,callback:function(e){t.$set(t.row,"position",e)},expression:"row.position"}})],1)],1),o("p",{style:{display:"te"==t.table?"":"none"}},[o("mu-form-item",{attrs:{label:"姓名"}},[o("mu-text-field",{model:{value:t.row.name,callback:function(e){t.$set(t.row,"name",e)},expression:"row.name"}})],1),o("mu-form-item",{attrs:{label:"工艺"}},[o("mu-text-field",{model:{value:t.row.gongyi,callback:function(e){t.$set(t.row,"gongyi",e)},expression:"row.gongyi"}})],1),o("mu-form-item",{attrs:{label:"数量"}},[o("mu-text-field",{attrs:{type:"number"},model:{value:t.row.number,callback:function(e){t.$set(t.row,"number",e)},expression:"row.number"}})],1),o("mu-form-item",{attrs:{label:"工时"}},[o("mu-text-field",{attrs:{type:"number"},model:{value:t.row.time,callback:function(e){t.$set(t.row,"time",e)},expression:"row.time"}})],1),o("mu-form-item",{attrs:{label:"地点"}},[o("mu-text-field",{model:{value:t.row.position,callback:function(e){t.$set(t.row,"position",e)},expression:"row.position"}})],1)],1),o("mu-text-field",{attrs:{"multi-line":"",rows:4,icon:"comment",placeholder:"备注"},model:{value:t.row.desc,callback:function(e){t.$set(t.row,"desc",e)},expression:"row.desc"}}),o("br"),o("mu-form-item",[o("mu-button",{on:{click:t.clear}},[t._v("重置")]),o("mu-button",{attrs:{color:"primary"},on:{click:t.submit}},[t._v("提交")])],1)],1)],1),o("div",{staticClass:"mu-text-field mu-input-content",staticStyle:{margin:"10px 5px"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"mu-text-field-input my-search-input",attrs:{placeholder:t.info,tabindex:"0"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),o("mu-button",{staticStyle:{margin:"0 10px 0 0","font-size":"18px"},attrs:{color:"red"},on:{click:t.searchData}},[t._v(" 查询 "),o("mu-icon",{attrs:{right:"",value:"search"}})],1)],1),o("mu-dialog",{attrs:{title:"提示",width:"360",open:t.openSimple},on:{"update:open":function(e){t.openSimple=e}}},[t._v("\n     确定删除此记录？\n    "),o("mu-button",{attrs:{slot:"actions",flat:"",color:"info"},on:{click:t.closeSimpleDialog},slot:"actions"},[t._v("取消")]),o("mu-button",{attrs:{slot:"actions",color:"primary"},on:{click:t.buttonDelete},slot:"actions"},[t._v("确定")])],1),o("mu-data-table",{attrs:{height:"300",border:"",stripe:"","min-col-width":70,columns:t.columns,sort:t.sort,data:t.list},on:{"update:sort":function(e){t.sort=e},"sort-change":t.handleSortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[o("td",{style:{display:e.row.hasOwnProperty("date")?"":"none",width:"90px"}},[t._v(t._s(e.row.date?e.row.date.substr(0,10):""))]),o("td",{style:{display:"ta"==t.table?"":"none"}},[t._v(t._s(e.row.number))]),o("td",{style:{display:["ta","tb","tc","te"].includes(t.table)?"":"none"}},[t._v(t._s(e.row.name))]),o("td",{style:{display:"ta"==t.table?"":"none"}},[t._v(t._s(e.row.mark))]),o("td",{style:{display:"ta"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.unit))]),o("td",{style:{display:"ta"==t.table?"":"none"}},[t._v(t._s(e.row.store))]),o("td",{style:{display:"ta"==t.table?"":"none"}},[t._v(t._s(e.row.position))]),o("td",{style:{display:"ta"==t.table?"":"none"}},[t._v(t._s(e.row.type))]),o("td",{style:{display:"tb"==t.table?"":"none"}},[t._v(t._s(e.row.guige))]),o("td",{style:{display:"tb"==t.table?"":"none"}},[t._v(t._s(e.row.number))]),o("td",{style:{display:"tb"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.unit))]),o("td",{style:{display:"tb"==t.table?"":"none"}},[t._v(t._s(e.row.person))]),o("td",{style:{display:"tc"==t.table?"":"none"}},[t._v(t._s(e.row.guige))]),o("td",{style:{display:"tc"==t.table?"":"none"}},[t._v(t._s(e.row.type))]),o("td",{style:{display:"tc"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.finish))]),o("td",{style:{display:"tc"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.need))]),o("td",{style:{display:"tc"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.unit))]),o("td",{style:{display:"tc"==t.table?"":"none"}},[t._v(t._s(e.row.usefor))]),o("td",{style:{display:"td"==t.table?"":"none"}},[t._v(t._s(e.row.name))]),o("td",{style:{display:"td"==t.table?"":"none"}},[t._v(t._s(e.row.guige))]),o("td",{style:{display:"td"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.need))]),o("td",{style:{display:"td"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.finish))]),o("td",{style:{display:"td"==t.table?"":"none",width:"40px"}},[t._v(t._s(e.row.unit))]),o("td",{style:{display:"td"==t.table?"":"none"}},[t._v(t._s(e.row.position))]),o("td",{style:{display:"te"==t.table?"":"none"}},[t._v(" "+t._s(e.row.gongyi))]),o("td",{style:{display:"te"==t.table?"":"none",width:"40px"}},[t._v(" "+t._s(e.row.number))]),o("td",{style:{display:"te"==t.table?"":"none",width:"40px"}},[t._v(" "+t._s(e.row.time))]),o("td",{style:{display:"te"==t.table?"":"none"}},[t._v(" "+t._s(e.row.position))]),o("td",[t._v(t._s(e.row.desc))]),o("td",[o("a",{staticClass:"a-delete",on:{click:function(o){return t.deleteLine(e.row)}}},[t._v("删除")]),o("br"),o("a",{on:{click:function(o){return t.updateLine(e.row)}}},[t._v("修改")])])]}}])}),o("mu-flex",{staticStyle:{margin:"32px 0"},attrs:{"justify-content":"center"}},[o("mu-pagination",{attrs:{raised:"",total:t.total,current:t.current},on:{"update:current":function(e){t.current=e},change:t.change}})],1)],1)},s=[],n=(o("55dd"),o("7f7f"),o("386d"),o("34ce")),r=20,a={data:function(){return{title:"",table:"ta",info:"",docked:!1,open:!1,openSimple:!1,position:"left",row:{},sort:{name:"",order:"asc"},columns:[],list:[],current:1,total:100,search:""}},mounted:function(){this.title=this.$store.state.title,this.table=this.$store.state.table,this.info=this.$store.state.info,this.columns=this.$store.state.col,this.getList({table:this.table,search:"",page:1,pageSize:r})},methods:{searchData:function(){var t=new Audio;t.src="13380.mp3",t.play(),this.list=[],this.getList({table:this.table,search:this.search,page:1,pageSize:r})},getList:function(t){var e=this;Object(n["d"])(t).then((function(t){e.list=t.data,e.total=t.count,e.current=parseInt(t.page)}))},change:function(t){console.log(t),this.list=[],this.getList({table:this.table,search:this.search,page:t,pageSize:r})},deleteLine:function(t){this.openSimple=!0,this.row=t,console.log(t)},updateLine:function(t){console.log(t),this.row=t;var e=new Date(this.row.date);this.row.date="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()-1),this.open=!0},handleSortChange:function(t){var e=t.name,o=t.order;this.list=this.list.sort((function(t,i){return"asc"===o?t[e]-i[e]:i[e]-t[e]}))},openSimpleDialog:function(){this.openSimple=!0},closeSimpleDialog:function(){this.openSimple=!1},buttonDelete:function(){var t=this;Object(n["b"])(this.table,this.row.id).then((function(e){t.openSimple=!1,t.flush(),e?t.$toast.success("删除成功"):t.$toast.error("删除失败")}))},iconAdd:function(){this.open=!0,this.row.id="",this.row.date=new Date},iconBack:function(){this.$router.push({name:"/",params:{}})},flush:function(){this.open=!1,this.getList({table:this.table,search:"",page:this.current,pageSize:r})},submit:function(){var t=this,e=this,o=new Date(this.row.date);this.row.date="".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate()+1);var i={ta:{desc:this.row.desc,mark:this.row.mark,name:this.row.name,number:this.row.number,position:this.row.position,store:this.row.store,type:this.row.type,unit:this.row.unit},tb:{date:this.row.date,desc:this.row.desc,name:this.row.name,guige:this.row.guige,number:this.row.number,person:this.row.person,unit:this.row.unit},tc:{date:this.row.date,desc:this.row.desc,name:this.row.name,finish:this.row.finish,guige:this.row.guige,need:this.row.need,type:this.row.type,unit:this.row.unit,usefor:this.row.usefor},td:{date:this.row.date,desc:this.row.desc,name:this.row.name,finish:this.row.finish,guige:this.row.guige,need:this.row.need,position:this.row.position,unit:this.row.unit,usefor:this.row.usefor},te:{date:this.row.date,desc:this.row.desc,name:this.row.name,number:this.row.number,position:this.row.position,gongyi:this.row.gongyi,time:this.row.time}},s=i[this.table];s.id=this.row.id;try{this.row.id?(s.fp=this.row.fp,Object(n["e"])(this.table,s).then((function(o){e.flush(),o?t.$toast.success("更新成功"):t.$toast.error("更新失败")}))):(s.fp="wz",Object(n["a"])(this.table,s).then((function(o){e.flush(),o?t.$toast.success("添加成功"):t.$toast.error("添加失败")})))}catch(r){this.$toast.error("操作失败,请检查网络")}},clear:function(){console.log(this.row);var t=this.row.id;this.row={},this.row.id=t}}},l=a,u=(o("6544"),o("2877")),c=Object(u["a"])(l,i,s,!1,null,"5076e7ed",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-21630603.e7cd7f2c.js.map